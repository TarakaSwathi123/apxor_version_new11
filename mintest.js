!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Apxor=t()}(this,function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var g=190,h={enable:!0,api_root:"https://server.apxor.com/v2/api",auto_track_events:["click","submit"],cookie_expiration:730,name:"",domain:"",cookie_prefix:"_apx_",idle_time_out:1800,ed_t_time:-1,sct_time:108e5,events:{stop:[],action:[]}},f={debug:!1,honorDNT:!1,idle_time_out:1800,client_id:null,session_id:null,plugins:[],version:"ALL",events_upload_time:-1,retry_time:-1,bulk_upload:!0},_="Opera Mini",v="Opera",p="BlackBerry",m="Internet Explorer Mobile",b="Microsoft Edge",S="Facebook Mobile",C="Chrome",k="Chrome iOS",I="UC Browser",w="Firefox iOS",y="Mobile Safari",E="Safari",A="Android Mobile",D="Konqueror",O="Firefox",T="Internet Explorer",x="Mozilla",N="apx_id",M="_apx_config",R="_apx_ua",P="_apx_sc",F="_apx_ledt",U="_apx_lef",q="_apx_ch",L="_apx_lct",B="_apx_uih",z="apx_in",j="apx_ver",H="apx_lbgt",J="visible",K="APX_PAGE_OPENED",V="apx_app_opened",W="SYSTEM_EVENT",G="NAVIGATION_EVENT",Y="APP_EVENT",X="CLIENT_EVENT",$="apx_retained_session",Q="qe_state",Z="_apx_lEt",ee="_apx_sId",te="_apx_cd",ne="_apx_od",ie="_apx_lt_count",re="_apx_use",oe="_apx_scnm",se="apx_sst",ae=o(function e(){i(this,e)});s(ae,"isCookieAvailable",function(){try{var e=(new Date).getTime()+864e5;document.cookie="cookie_set=cookie_value; expires="+e;for(var t=document.cookie.split(";"),n=0;n<t.length;n++){if(-1!==t[n].indexOf("cookie_set"))return document.cookie="cookie_set=cookie_value; expires=Thu, 01 Jan 1970 00:00:01 GMT;",!0}return!1}catch(e){return!1}}),s(ae,"get",function(e){if(window.document)for(var t=e+"=",n=window.document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null});var ue,le,ce,de,ge=function(e){return void 0===e},he=function(e){return null===e},fe=function(e){return void 0!==e&&!he(e)},_e=function(e){return!fe(e)},ve=function(e){return"function"==typeof e},pe=function(e){return"string"==typeof e},me=function(e){return"boolean"==typeof e},be=function(e){return fe(e)&&!he(e)&&!isNaN(e)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(null!=t&&ve(t)){var n=e.document;"loading"!==n.readyState?t():ve(n.addEventListener)?n.addEventListener("DOMContentLoaded",t):ve(e.attachEvent)&&e.attachEvent("onreadystatechange",function(e){"loading"!==n.readyState&&t(e)})}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};ve(t)&&(e.addEventListener("pagehide",function(e){return t(e),""}),e.addEventListener("beforeunload",function(e){return t(e),""}),e.addEventListener("onunload",function(e){return t(e),""}))},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};ve(t)&&(e.removeEventListener("pagehide",t),e.removeEventListener("beforeunload",t),e.removeEventListener("onunload",t))},Ie=function(e,t,n){ve(e.removeEventListener)?e.removeEventListener(t,n):ve(e.detachEvent)?e.detachEvent(t,n):e["on"+t]=n},we=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(e){return e<10?"0"+e:e},i=e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds());return t?i+e.toTimeString().split(" ")[1].replace(/GMT([+|-])(\d{2})(\d{2})/,"$1$2:$3"):i},ye=function(){return Date.now()},Ee=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},Ae=function(){var e=window.navigator,t=(void 0===e?{}:e).userAgent,n=void 0===t?"":t;switch(!0){case/Windows Phone/i.test(n)||/WPDesktop/.test(n):return"Windows Phone";case/iPad/.test(n):return"iPad";case/iPod/.test(n):return"iPod Touch";case/iPhone/.test(n):return"iPhone";case/(BlackBerry|PlayBook|BB10)/i.test(n):return"BlackBerry";case/Android/.test(n):return"Android";default:return"Desktop"}},De=function(){var e,n,i,r,o,a,u,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=l.navigator,d=void 0===c?{}:c,g=d.userAgent,h=void 0===g?"":g,f=d.vendor,N=void 0===f?"":f,M=_,R=v,P=p,F=m,U=b,q=S,L=C,B=k,z=I,j=w,H=y,J=E,K=A,V=D,W=O,G=T,Y=x,X=function(){switch(!0){case h.includes(" OPR/"):return h.includes("Mini")?M:R;case/(BlackBerry|PlayBook|BB10)/i.test(h):return P;case h.includes("IEMobile")||h.includes("WPDesktop"):return F;case h.includes("FBIOS"):return q;case h.includes("Chrome"):return L;case h.includes("CriOS"):return B;case h.includes("Edge"):return U;case h.includes("UCWEB")||h.includes("UCBrowser"):return z;case h.includes("FxiOS"):return j;case N.includes("Apple"):return h.includes("Mobile")?H:J;case h.includes("Android"):return K;case h.includes("Konqueror"):return V;case h.includes("Firefox"):return W;case h.includes("MSIE")||h.includes("Trident/"):return G;case h.includes("Gecko"):return Y;default:return""}}(),$=function(){var e,t=(e={},s(e,F,/rv:(\d+(\.\d+)?)/),s(e,U,/Edge\/(\d+(\.\d+)?)/),s(e,L,/Chrome\/(\d+(\.\d+)?)/),s(e,B,/CriOS\/(\d+(\.\d+)?)/),s(e,z,/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/),s(e,J,/Version\/(\d+(\.\d+)?)/),s(e,H,/Version\/(\d+(\.\d+)?)/),s(e,R,/(Opera|OPR)\/(\d+(\.\d+)?)/),s(e,W,/Firefox\/(\d+(\.\d+)?)/),s(e,j,/FxiOS\/(\d+(\.\d+)?)/),s(e,V,/Konqueror:(\d+(\.\d+)?)/),s(e,P,/BlackBerry (\d+(\.\d+)?)/),s(e,K,/android\s(\d+(\.\d+)?)/),s(e,G,/(rv:|MSIE )(\d+(\.\d+)?)/),s(e,Y,/rv:(\d+(\.\d+)?)/),e)[X];if(void 0===t)return null;var n=h.match(t);return n?parseFloat(n[n.length-2]):null}(),Q=Ae(),Z=function(){switch(!0){case/Windows/i.test(h):return/Phone/.test(h)||/WPDesktop/.test(h)?"Windows Phone":"Windows";case/(iPhone|iPad|iPod)/.test(h):return"iOS";case/Android/.test(h):return"Android";case/(BlackBerry|PlayBook|BB10)/i.test(h):return"BlackBerry";case/Mac/i.test(h):return"Mac OS X";case/Linux/.test(h):return"Linux";case/CrOS/.test(h):return"Chrome OS";default:return""}}();return t(t({},(e=l.screen,i=(n=void 0===e?{width:0,height:0}:e).height,r=n.width,o=l.devicePixelRatio,a=void 0===o?1:o,{dimensions:{width:r,height:i},dimensions_in_pixels:{width:(u=function(e){var t=Math.round(e)*a,n=t%10;return t+(n>0?10:0)-n})(r),height:u(i)},dpi:a.toString()})),{},{device:Q,browser_version:$,browser:X,os:Z})},Oe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.navigator,r=(void 0===i?{}:i).language,o=n.browser_version,a=n.browser,u=ae.isCookieAvailable();return s(e={},"apx_browser",a),s(e,"apx_browser_version",a+"_"+o),s(e,"apx_language",r),s(e,"apx_cookies_supported",u),e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.navigator,n=void 0===t?{}:t,i=n.connection,r=void 0===i?{}:i,o=r.effectiveType,s=r.saveData,a=n.platform,u=n.webdriver,l=e.document.referrer,c={};o&&(c.apx_network=o),s&&(c.apx_data_save_mode=s),a&&(c.apx_platform=a),fe(u)&&u&&(c.apx_automation=u),fe(l)&&l.length>0?c.apx_referrer=l:c.apx_referrer="direct";var d=Ae();return c.apx_device_type=d,c},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.navigator){var t=e.navigator.doNotTrack;return!("1"===t||"yes"===t)}return!0},Ne=function(e){var t=e.document.querySelector("title");return fe(t)&&fe(t.innerText)?t.innerText:"Unknown"},Me=function(e){return be(e)?Re(e/1e3...
